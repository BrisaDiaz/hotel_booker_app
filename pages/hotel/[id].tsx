import type { NextPage } from 'next';
import Head from 'next/head';
import Grid from '@mui/material/Grid';
import Box from '@mui/material/Box';
import DoneIcon from '@mui/icons-material/Done';
import LocalPhoneIcon from '@mui/icons-material/LocalPhone';
import EmailIcon from '@mui/icons-material/Email';
import MyLocationIcon from '@mui/icons-material/MyLocation';
import Typography from '@mui/material/Typography';
import AlarmIcon from '@mui/icons-material/Alarm';
import Tabs from '../../components/Tabs';
import ImageSlider from '../../components/ImageSlider';

import ApartmentIcon from '@mui/icons-material/Apartment';
import RoomServiceIcon from '@mui/icons-material/RoomService';
import HikingIcon from '@mui/icons-material/Hiking';
import LanguageIcon from '@mui/icons-material/Language';
import ChildCareIcon from '@mui/icons-material/ChildCare';
import PetsIcon from '@mui/icons-material/Pets';
import AccessibleForwardIcon from '@mui/icons-material/AccessibleForward';
import SmokingRoomsIcon from '@mui/icons-material/SmokingRooms';
import PaidIcon from '@mui/icons-material/Paid';
import LocalFloristIcon from '@mui/icons-material/LocalFlorist';
import RoomCard from '../../components/RoomCard';
import hotel from '@/mocks/hotel';

const Hotel: NextPage = () => {
  const images = [
    { title: 'Hotel frame', image: hotel.frameImage },
    { title: 'Hotel Interior', image: hotel.interiorImage },
  ];
  const characteristics = [
    {
      title: 'facilities',
      items: hotel.facilities,
    },
    {
      title: 'services',
      items: hotel.services,
    },

    {
      title: 'activities',
      items: hotel.activities,
    },
    {
      title: 'languages',
      items: hotel.languages,
    },
  ];
  const includedFeatures = Object.keys(hotel.features).filter(
    (featureName) => hotel.features[featureName] !== true
  );

  const formattedAdditonalFeatures = includedFeatures.map((featureName) =>
    featureName
      .split(/(?=[A-Z])/)
      .join(' ')
      .toLowerCase()
  );

  return (
    <div>
      <Head>
        <title>Hotel</title>
        <meta name="description" content="Generated by create next app" />
        <link rel="icon" href="/favicon.ico" />
      </Head>

      <main className="page">
        <section className="container">
          <Typography
            variant="h3"
            component="h1"
            sx={{
              fontWeight: 700,
              margin: '0 16px',
              width: 'fit-content',
              padding: '10px 0 5px',
            }}
          >
            {hotel.name}
          </Typography>
          <div className="list inportant contact-info">
            <div className="list-item">
              <MyLocationIcon />
              <p>{hotel.address.holeAddress}</p>
            </div>
            <div className="list-item">
              <LocalPhoneIcon />
              <p>{hotel.telephone}</p>
            </div>
            <div className="list-item">
              <EmailIcon />
              <p>{hotel.email}</p>
            </div>
          </div>
          {/* CARROUSEL */}
          <ImageSlider images={images} />

          <h4 className="price">
            Prices from <span> ${hotel.lowestPrice} USD</span>
          </h4>
          <div className="list row">
            <div className="list-item">
              <AlarmIcon color="primary" />
              <p>
                <span>Check In Hour:</span>
                {`  ${hotel.checkInHour}`}
              </p>
            </div>
            <div className="list-item">
              <AlarmIcon color="primary" />
              <p>
                <span>Check Out Hour:</span>
                {`  ${hotel.checkOutHour}`}
              </p>
            </div>
          </div>

          {/* HOTEL POLICIES AND RULES */}
          <Box sx={{ margin: '20px 10px' }} component="section">
            <Tabs
              data={[
                {
                  title: 'About Us',
                  Content: (
                    <p
                      className="text"
                      dangerouslySetInnerHTML={{
                        __html: hotel.description.replace('/n', '</br>'),
                      }}
                    />
                  ),
                },
                {
                  title: 'Policies and Rules',
                  Content: (
                    <>
                      <p className="text">{hotel.policiesAndRules}</p>
                    </>
                  ),
                },
              ]}
            />
          </Box>

          {/* HOTEL CHARAACTERISTICS */}

          <Box sx={{ margin: '20px 0' }} component="section">
            <Grid
              container
              alignItems="flex-start"
              sx={{ margin: '0 ', columnGap: '80px' }}
            >
              {characteristics.map((characteristic) => (
                <div key={characteristic.title}>
                  <Grid
                    item
                    xs={12}
                    sm={6}
                    sx={{ padding: 1, minWidth: 'max-content' }}
                  >
                    <Box
                      sx={{
                        display: 'flex',
                        gap: '10px',
                        alignItems: 'center',
                        marginBottom: '15px',
                      }}
                    >
                      {characteristic.title === 'facilities' ? (
                        <ApartmentIcon color="primary" />
                      ) : characteristic.title === 'services' ? (
                        <RoomServiceIcon color="primary" />
                      ) : characteristic.title === 'languages' ? (
                        <LanguageIcon color="primary" />
                      ) : characteristic.title === 'activities' ? (
                        <HikingIcon color="primary" />
                      ) : null}

                      <Typography
                        variant="h6"
                        sx={{
                          fontWeight: 300,
                          textTransform: 'capitalize',
                        }}
                      >
                        {characteristic.title}
                      </Typography>
                    </Box>

                    <div className="list">
                      {characteristic.items.map((item) => (
                        <div key={item.id} className="list-item">
                          <DoneIcon fontSize="small" color="secondary" />
                          <p>{item.name}</p>
                        </div>
                      ))}
                    </div>
                  </Grid>
                </div>
              ))}
              <Grid
                item
                xs={12}
                sm={6}
                sx={{ padding: 1, minWidth: 'max-content' }}
              >
                {formattedAdditonalFeatures.map((featureName) => (
                  <div className="list" key={featureName}>
                    <div className="list-item">
                      {featureName === 'family friendly' ? (
                        <ChildCareIcon color="primary" />
                      ) : featureName === 'pet friendly' ? (
                        <PetsIcon color="primary" />
                      ) : featureName === 'smoker friendly' ? (
                        <SmokingRoomsIcon color="primary" />
                      ) : featureName === 'accessible' ? (
                        <AccessibleForwardIcon color="primary" />
                      ) : featureName === 'cancelation free' ? (
                        <PaidIcon color="primary" />
                      ) : featureName === 'eco friendly' ? (
                        <LocalFloristIcon color="primary" />
                      ) : null}

                      <p>{featureName}</p>
                    </div>
                  </div>
                ))}
              </Grid>
            </Grid>
          </Box>
        </section>
        <Typography
          variant="h4"
          component="h2"
          sx={{ fontWeight: 700, opacity: '0.85', margin: '20px 15px 30px' }}
        >
          Rooms
        </Typography>
        <Box sx={{ margin: '20px auto' }}>
          <Grid container spacing={3} justifyContent="center">
            {hotel.roomModels.map((room) => (
              <Grid item xs={12} sm={6} md={4}>
                <RoomCard room={room} />
              </Grid>
            ))}
          </Grid>
        </Box>
      </main>

      <style jsx>
        {`
          .page {
            max-width: 1000px;
            margin: 20px auto;
          }

          h5 {
            font-size: 18px;
            margin: 0;
          }
          .price {
            margin: 0 15px 10px 15px;
            margin-left: auto;
            max-width: fit-content;
            display: block;
            padding: 10px;
            font-weight: 200;
            font-size: 22px;
          }
          .price span {
            color: #3f51b5;
            font-weight: 700;
            margin-left: 5px;
          }
          .list {
            display: flex;
            flex-direction: column;
            column-gap: 20px;
            flex-wrap: wrap;
            padding: 0 10px;
            text-transform: capitalize;
            font-weight: 400;
          }
          span,
          .inportant {
            color: #3f51b5;
          }
          .row {
            flex-direction: row;
          }
          .text {
            padding: 0 10px;
          }

          .list-item {
            display: flex;
            gap: 10px;
            align-items: center;
          }

          .list-item p {
            margin: 8px 0;
          }

          .contact-info {
            margin: 5px 0;
            color: #3f51b5;
            padding: 10px;
            justify-content: 'start';
            flex-direction: row;
          }
          .contact-info div p {
            font-weight: 100;
            margin: 8px;
            font-size: 14px;
          }
        `}
      </style>
    </div>
  );
};

export default Hotel;
